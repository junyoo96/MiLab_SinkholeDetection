#title: B-scan of a cavity within a dielectric half-space
#domain: 0.3 0.9 1.1
#dx_dy_dz: 0.002 0.002 0.002
#time_window: 30e-9

#material: 8.69 0.0121996 1.0 0.0 soil
#material: 3.09 9.2e-12 1.0 0.0 asphalt

#box: 0 0 0.8 0.3 0.9 1 asphalt n
#box: 0 0 0 0.3 0.9 0.8 soil n
#sphere: 0.15 0.45 0.5 0.1 free_space y

#python:

##Scans information
##Total Ascans : 3* 36 = 108
##Job options : -n 108
##Time taken :

import numpy as np

bscans=3
ascans_per_bscan = 36
ascan_spacing = 0.02
bscan_spacing = 0.03

yoffset=0.1
xoffset=0.12

bscan_num = np.floor((current_model_run - 1) / ascans_per_bscan)
ascan_num = current_model_run - (bscan_num * ascans_per_bscan) - 1
y = yoffset+(ascan_num * ascan_spacing)
x = xoffset+(bscan_num * bscan_spacing)

from user_libs.antennas.MALA import antenna_like_MALA_1200
antenna_like_MALA_1200(x, y, 1.02, resolution=0.002, rotate90=True)
#end_python:

#geometry_view: 0 0 0 0.3 0.9 1.1 0.002 0.002 0.002 Line01_ n